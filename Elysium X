local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TextChatService = game:GetService("TextChatService")
local StarterGui = game:GetService("StarterGui")

local LocalPlayer = Players.LocalPlayer
local FONT = Font.new("rbxassetid://12187360881")
local DEFAULT_GRAVITY = workspace.Gravity

Window = WindUI:CreateWindow({
	Title = "Elysium X",
	Author = "By Fusion",
	Folder = "Elysium",
	Transparent = true,
	Theme = "Crimson",
	Resizable = true,
	HideSearchBar = false,
	ScrollBarEnabled = true,

	KeySystem = {
		Key = { "260126" },
		Note = "Currently in beta",
		SaveKey = false,
	},
})

Window:Tag({
	Title = "BETA",
	Color = Color3.fromRGB(0,71,171),
	Radius = 100,
})

local PlayerTab = Window:Tab({ Title = "Player", Icon = "user-star" })
local ForsakenTab = Window:Tab({ Title = "Forsaken", Icon = "skull" })
local EternityTab = Window:Tab({ Title = "Eternity", Icon = "infinity" })
local FPESTab = Window:Tab({ Title = "FPE Survival", Icon = "book" })
local OthersTab = Window:Tab({ Title = "Others", Icon = "link" })
local InfoTab = Window:Tab({ Title = "Information", Icon = "info" })

local playerEnabled=false
local noclipEnabled=false
local infJump=false
local cframeSpeed=1
local gravity=196.2
local noclipConn
local originalCollisions={}

local function applyNoclip(character)
	if noclipConn then noclipConn:Disconnect() end
	if not character then return end
	originalCollisions={}
	for _,p in ipairs(character:GetDescendants()) do
		if p:IsA("BasePart") then
			originalCollisions[p]=p.CanCollide
			p.CanCollide=false
		end
	end
	noclipConn=RunService.Stepped:Connect(function()
		if not noclipEnabled or not character.Parent then return end
		for _,p in ipairs(character:GetDescendants()) do
			if p:IsA("BasePart") then p.CanCollide=false end
		end
	end)
end

local function removeNoclip()
	if noclipConn then noclipConn:Disconnect() noclipConn=nil end
	for p,v in pairs(originalCollisions) do
		if p and p.Parent then p.CanCollide=v end
	end
	originalCollisions={}
end

LocalPlayer.CharacterAdded:Connect(function(c)
	task.wait(0.25)
	if noclipEnabled then
		applyNoclip(c)
	end
end)

PlayerTab:Toggle({ Title="Enable", Value=false, Callback=function(v)
	playerEnabled=v
	if not v then workspace.Gravity=DEFAULT_GRAVITY end
end })

PlayerTab:Slider({
	Title="CFrame Speed",
	Step=1,
	Value={Min=1,Max=100,Default=1},
	Callback=function(v) cframeSpeed=v end
})

PlayerTab:Slider({
	Title="Gravity",
	Step=1,
	Value={Min=1,Max=196,Default=196},
	Callback=function(v) gravity=v end
})

PlayerTab:Toggle({
	Title="Noclip",
	Value=false,
	Callback=function(v)
		noclipEnabled=v
		if v then applyNoclip(LocalPlayer.Character) else removeNoclip() end
	end
})

PlayerTab:Toggle({
	Title="Infinite Jump",
	Value=false,
	Callback=function(v) infJump=v end
})

UserInputService.JumpRequest:Connect(function()
	if infJump and LocalPlayer.Character then
		local hum=LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		if hum then hum:ChangeState(Enum.HumanoidStateType.Jumping) end
	end
end)

RunService.Heartbeat:Connect(function()
	if not playerEnabled then return end
	local char=LocalPlayer.Character
	local hrp=char and char:FindFirstChild("HumanoidRootPart")
	local hum=char and char:FindFirstChildOfClass("Humanoid")
	if not hrp or not hum then return end
	workspace.Gravity=gravity
	local dir=hum.MoveDirection
	if dir.Magnitude>0 then
		hrp.CFrame=hrp.CFrame+(dir*(cframeSpeed*0.08))
	end
end)

local espSurvivor=false
local espKiller=false
local espGen=false
local autoGen=false
local genDelay=5
local genBusy=false
local infStamina=false
local staminaConn
local staminaModule

local function clearAllESP()
	for _,obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("Highlight") and obj.Name=="NexusHL" then obj:Destroy() end
		if obj:IsA("BillboardGui") and (obj.Name=="NexusName" or obj.Name=="NexusGen") then obj:Destroy() end
	end
end

local function addHighlight(inst,color)
	local hl=inst:FindFirstChild("NexusHL")
	if not hl then
		hl=Instance.new("Highlight")
		hl.Name="NexusHL"
		hl.Adornee=inst
		hl.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop
		hl.Parent=inst
	end
	hl.FillColor=color
	hl.OutlineColor=color
	hl.FillTransparency=0.45
end

local function addNameESP(char,text,color)
	if char:FindFirstChild("NexusName") then return end
	local hrp=char:FindFirstChild("HumanoidRootPart")
	if not hrp then return end
	local bb=Instance.new("BillboardGui")
	bb.Name="NexusName"
	bb.Adornee=hrp
	bb.Size=UDim2.fromOffset(120,16)
	bb.StudsOffset=Vector3.new(0,-3,0)
	bb.AlwaysOnTop=true
	bb.Parent=char
	local tl=Instance.new("TextLabel")
	tl.Size=UDim2.fromScale(1,1)
	tl.BackgroundTransparency=1
	tl.Text=text
	tl.FontFace=FONT
	tl.TextSize=11
	tl.TextColor3=color
	tl.TextStrokeTransparency=0.3
	tl.Parent=bb
end

local DARK_GREEN=Color3.fromRGB(0,120,0)
local YELLOW=Color3.fromRGB(255,255,0)

local function normalizeProgress(v)
	if v>=10000 then return math.clamp(math.floor(v/100),0,100) end
	if v>100 then return math.clamp(math.floor(v),0,100) end
	return math.clamp(math.floor(v),0,100)
end

local function updatePlayerESP()
	local wp=workspace:FindFirstChild("Players")
	if not wp then return end
	local killers=wp:FindFirstChild("Killers")
	local survivors=wp:FindFirstChild("Survivors")
	for _,plr in ipairs(Players:GetPlayers()) do
		if plr~=LocalPlayer and plr.Character then
			if espKiller and killers and plr.Character.Parent==killers then
				addHighlight(plr.Character,Color3.fromRGB(255,0,0))
				addNameESP(plr.Character,plr.Name,Color3.fromRGB(255,80,80))
			end
			if espSurvivor and survivors and plr.Character.Parent==survivors then
				addHighlight(plr.Character,Color3.fromRGB(0,255,0))
				addNameESP(plr.Character,plr.Name,Color3.fromRGB(80,255,80))
			end
		end
	end
end

local function updateGenESP()
	if not espGen then return end
	local map=workspace:FindFirstChild("Map")
	local ing=map and map:FindFirstChild("Ingame")
	local m=ing and ing:FindFirstChild("Map")
	if not m then return end
	for _,g in ipairs(m:GetChildren()) do
		if g.Name=="Generator" then
			local prog=g:FindFirstChild("Progress")
			local percent=prog and normalizeProgress(prog.Value) or 0
			addHighlight(g,percent>=100 and DARK_GREEN or YELLOW)
			if not g:FindFirstChild("NexusGen") then
				local bb=Instance.new("BillboardGui")
				bb.Name="NexusGen"
				bb.Adornee=g
				bb.Size=UDim2.fromOffset(150,18)
				bb.StudsOffset=Vector3.new(0,3,0)
				bb.AlwaysOnTop=true
				bb.Parent=g
				local tl=Instance.new("TextLabel")
				tl.Size=UDim2.fromScale(1,1)
				tl.BackgroundTransparency=1
				tl.FontFace=FONT
				tl.TextStrokeTransparency=0.3
				tl.Parent=bb
			end
			g.NexusGen.TextLabel.Text=percent>=100 and "Generator repaired" or (percent.."%")
			g.NexusGen.TextLabel.TextColor3=percent>=100 and DARK_GREEN or YELLOW
		end
	end
end

ForsakenTab:Toggle({ Title="Infinite Stamina", Value=false, Callback=function(v)
	infStamina=v
	if staminaConn then staminaConn:Disconnect() staminaConn=nil end
	if v then
		local sprint=ReplicatedStorage:WaitForChild("Systems"):WaitForChild("Character"):WaitForChild("Game"):WaitForChild("Sprinting")
		staminaModule=require(sprint)
		staminaConn=RunService.Heartbeat:Connect(function()
			if infStamina then staminaModule.Stamina=staminaModule.MaxStamina or 999 end
		end)
	end
end })

ForsakenTab:Toggle({ Title="ESP Killers", Value=false, Callback=function(v) espKiller=v if not v then clearAllESP() end end })
ForsakenTab:Toggle({ Title="ESP Survivors", Value=false, Callback=function(v) espSurvivor=v if not v then clearAllESP() end end })
ForsakenTab:Toggle({ Title="ESP Generators", Value=false, Callback=function(v) espGen=v if not v then clearAllESP() end end })
ForsakenTab:Toggle({ Title="Auto Generator", Value=false, Callback=function(v) autoGen=v end })
ForsakenTab:Slider({
	Title="Auto Generator Speed",
	Step=1,
	Value={Min=1,Max=5,Default=1},
	Callback=function(v) genDelay=v end
})

task.spawn(function()
	while task.wait(0.5) do
		updatePlayerESP()
		updateGenESP()
	end
end)

task.spawn(function()
	while task.wait(1) do
		if autoGen and not genBusy then
			genBusy=true
			local map=workspace:FindFirstChild("Map")
			local ing=map and map:FindFirstChild("Ingame")
			local m=ing and ing:FindFirstChild("Map")
			if m then
				for _,g in ipairs(m:GetChildren()) do
					if g.Name=="Generator" and g:FindFirstChild("Remotes") then
						pcall(function() g.Remotes.RE:FireServer() end)
						task.wait(genDelay)
					end
				end
			end
			genBusy=false
		end
	end
end)

EternityTab:Toggle({
	Title = "Infinite Stamina",
	Value = false,
	Callback = function(v)
		infStamina = v
		if staminaConn then
			staminaConn:Disconnect()
			staminaConn = nil
		end

		local function applyInfStamina()
			local Character_upvr = Players.LocalPlayer.Character or Players.LocalPlayer.CharacterAdded:Wait()
			local max = Character_upvr:GetAttribute("MaxStamina") or 100
			Character_upvr:SetAttribute("Stamina", max)

			staminaConn = RunService.Heartbeat:Connect(function()
				if not infStamina then return end
				if Character_upvr and Character_upvr.Parent then
					Character_upvr:SetAttribute("Stamina", max)
				end
			end)
		end

		if v then
			applyInfStamina()
			Players.LocalPlayer.CharacterAdded:Connect(function()
				if infStamina then
					applyInfStamina()
				end
			end)
		else
			if staminaConn then
				staminaConn:Disconnect()
				staminaConn = nil
			end
		end
	end
})

EternityTab:Toggle({
	Title = "ESP Killers",
	Value = false,
	Callback = function(v)
		espKillers = v
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		if not v then
			for _,obj in ipairs(workspace:GetDescendants()) do
				if obj:IsA("Highlight") and obj.Name == "EternityESP_K" then
					obj:Destroy()
				end
			end
			return
		end

		staminaConn = RunService.Heartbeat:Connect(function()
			if not espKillers then return end
			local folder = workspace:FindFirstChild("Killers")
			if not folder then return end

			for _,char in ipairs(folder:GetChildren()) do
				if char:IsA("Model")
					and char ~= LocalPlayer.Character
					and char:FindFirstChild("HumanoidRootPart") then

					if not char:FindFirstChild("EternityESP_K") then
						local hl = Instance.new("Highlight")
						hl.Name = "EternityESP_K"
						hl.Adornee = char
						hl.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
						hl.FillTransparency = 0.45
						hl.FillColor = Color3.fromRGB(255,0,0)
						hl.OutlineColor = Color3.fromRGB(255,0,0)
						hl.Parent = char
					end
				end
			end
		end)
	end
})

EternityTab:Toggle({
	Title = "ESP Survivors",
	Value = false,
	Callback = function(v)
		espSurvivors = v
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		if not v then
			for _,obj in ipairs(workspace:GetDescendants()) do
				if obj:IsA("Highlight") and obj.Name == "EternityESP_S" then
					obj:Destroy()
				end
			end
			return
		end

		staminaConn = RunService.Heartbeat:Connect(function()
			if not espSurvivors then return end
			local folder = workspace:FindFirstChild("Survivors")
			if not folder then return end

			for _,char in ipairs(folder:GetChildren()) do
				if char:IsA("Model")
					and char ~= LocalPlayer.Character
					and char:FindFirstChild("HumanoidRootPart") then

					if not char:FindFirstChild("EternityESP_S") then
						local hl = Instance.new("Highlight")
						hl.Name = "EternityESP_S"
						hl.Adornee = char
						hl.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
						hl.FillTransparency = 0.45
						hl.FillColor = Color3.fromRGB(0,255,0)
						hl.OutlineColor = Color3.fromRGB(0,255,0)
						hl.Parent = char
					end
				end
			end
		end)
	end
})

FPESTab:Toggle({
	Title = "Auto Farm",
	Value = false,
	Callback = function(v)
		local Players = game:GetService("Players")
		local RunService = game:GetService("RunService")
		local TweenService = game:GetService("TweenService")
		local LocalPlayer = Players.LocalPlayer
		local Camera = workspace.CurrentCamera

		local autoFarm = v
		local blockedPosition = Vector3.new(-229.41, 133.66, 213.57)
		local originalPosition = nil
		local gui = nil

		if not autoFarm then
			if gui then gui:Destroy() gui = nil end
			if originalPosition and LocalPlayer.Character and LocalPlayer.Character.PrimaryPart then
				LocalPlayer.Character:SetPrimaryPartCFrame(CFrame.new(originalPosition))
				originalPosition = nil
			end
			return
		end

		local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
		Character:WaitForChild("HumanoidRootPart")
		originalPosition = Character.PrimaryPart.Position

		local function blockPosition()
			if (Character.PrimaryPart.Position - blockedPosition).magnitude < 5 then
				Character:SetPrimaryPartCFrame(CFrame.new(originalPosition + Vector3.new(0,5,0)))
			end
		end

		gui = Instance.new("ScreenGui")
		gui.Name = "AutoFarmGui"
		gui.Parent = LocalPlayer:WaitForChild("PlayerGui")

		local nameFrame = Instance.new("Frame")
		nameFrame.Size = UDim2.new(0, 250, 0, 40)
		nameFrame.Position = UDim2.new(0.5, -125, 0, 50)
		nameFrame.BackgroundColor3 = Color3.fromRGB(30,30,30)
		nameFrame.BackgroundTransparency = 0.05
		nameFrame.BorderSizePixel = 0
		nameFrame.AnchorPoint = Vector2.new(0.5,0)
		nameFrame.Parent = gui
		local nameCorner = Instance.new("UICorner", nameFrame)
		nameCorner.CornerRadius = UDim.new(0,15)

		local nameLabel = Instance.new("TextLabel")
		nameLabel.Size = UDim2.new(1, -20, 1, 0)
		nameLabel.Position = UDim2.new(0,10,0,0)
		nameLabel.BackgroundTransparency = 1
		nameLabel.Text = ""
		nameLabel.TextColor3 = Color3.fromRGB(255,255,255)
		nameLabel.Font = Enum.Font.GothamBold
		nameLabel.TextSize = 18
		nameLabel.Parent = nameFrame

		local arrowFrame = Instance.new("Frame")
		arrowFrame.Size = UDim2.new(0, 100, 0, 50)
		arrowFrame.Position = UDim2.new(0.5, -50, 0, 100)
		arrowFrame.BackgroundTransparency = 1
		arrowFrame.Parent = gui

		local leftArrow = Instance.new("TextLabel")
		leftArrow.Size = UDim2.new(0, 40, 0, 40)
		leftArrow.Position = UDim2.new(0,0,0,0)
		leftArrow.BackgroundColor3 = Color3.fromRGB(70,130,250)
		leftArrow.BackgroundTransparency = 0.1
		leftArrow.Text = "<"
		leftArrow.TextColor3 = Color3.fromRGB(255,255,255)
		leftArrow.Font = Enum.Font.GothamBold
		leftArrow.TextSize = 28
		leftArrow.AnchorPoint = Vector2.new(0.5,0.5)
		leftArrow.Parent = arrowFrame
		local leftCorner = Instance.new("UICorner", leftArrow)
		leftCorner.CornerRadius = UDim.new(0,12)

		local rightArrow = Instance.new("TextLabel")
		rightArrow.Size = UDim2.new(0, 40, 0, 40)
		rightArrow.Position = UDim2.new(1,0,0,0)
		rightArrow.BackgroundColor3 = Color3.fromRGB(70,130,250)
		rightArrow.BackgroundTransparency = 0.1
		rightArrow.Text = ">"
		rightArrow.TextColor3 = Color3.fromRGB(255,255,255)
		rightArrow.Font = Enum.Font.GothamBold
		rightArrow.TextSize = 28
		rightArrow.AnchorPoint = Vector2.new(0.5,0.5)
		rightArrow.Parent = arrowFrame
		local rightCorner = Instance.new("UICorner", rightArrow)
		rightCorner.CornerRadius = UDim.new(0,12)

		RunService.RenderStepped:Connect(function()
			if autoFarm then
				blockPosition()
				for _, player in pairs(Players:GetPlayers()) do
					if player ~= LocalPlayer and player.Character and player.Character.PrimaryPart then
						nameLabel.Text = player.Name
						local screenPos, onScreen = Camera:WorldToViewportPoint(player.Character.PrimaryPart.Position)
						if onScreen then
							TweenService:Create(leftArrow,TweenInfo.new(0.1,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{Position=UDim2.new(0, screenPos.X-60,0, screenPos.Y-20)}):Play()
							TweenService:Create(rightArrow,TweenInfo.new(0.1,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{Position=UDim2.new(0, screenPos.X+60,0, screenPos.Y-20)}):Play()
						end
					end
				end
			end
		end)
	end
})

FPESTab:Toggle({
	Title = "Infinite Stamina",
	Value = false,
	Callback = function(v)
		infStamina = v
		if staminaConn then
			staminaConn:Disconnect()
			staminaConn = nil
		end

		local function applyInfStamina()
			local Character_upvr = Players.LocalPlayer.Character or Players.LocalPlayer.CharacterAdded:Wait()
			local max = Character_upvr:GetAttribute("MaxStamina") or 100
			Character_upvr:SetAttribute("Stamina", max)

			staminaConn = RunService.Heartbeat:Connect(function()
				if not infStamina then return end
				if Character_upvr and Character_upvr.Parent then
					Character_upvr:SetAttribute("Stamina", max)
				end
			end)
		end

		if v then
			applyInfStamina()
			Players.LocalPlayer.CharacterAdded:Connect(function()
				if infStamina then
					applyInfStamina()
				end
			end)
		else
			if staminaConn then
				staminaConn:Disconnect()
				staminaConn = nil
			end
		end
	end
})

FPESTab:Toggle({
	Title="ESP Teachers",
	Value=false,
	Callback=function(v)
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		if not _G.__ESP_TEACHERS then
			_G.__ESP_TEACHERS = {highlights = {}, conns = {}}
		end
		local state = _G.__ESP_TEACHERS

		for _,h in ipairs(state.highlights) do if h then h:Destroy() end end
		for _,c in ipairs(state.conns) do if c then c:Disconnect() end end
		state.highlights = {}
		state.conns = {}

		if not v then return end

		local folder = workspace:FindFirstChild("Teachers")
		if not folder then return end

		local function apply(model)
			if not model:IsA("Model") then return end
			if LocalPlayer.Character and model == LocalPlayer.Character then return end
			local h = Instance.new("Highlight")
			h.Adornee = model
			h.FillColor = Color3.fromRGB(255,0,0)
			h.OutlineColor = Color3.fromRGB(255,0,0)
			h.FillTransparency = 0.5
			h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
			h.Parent = model
			table.insert(state.highlights, h)
		end

		for _,m in ipairs(folder:GetChildren()) do apply(m) end
		table.insert(state.conns, folder.ChildAdded:Connect(apply))
		table.insert(state.conns, folder.ChildRemoved:Connect(function(m)
			for i,h in ipairs(state.highlights) do
				if h.Adornee == m then h:Destroy() table.remove(state.highlights,i) break end
			end
		end))
	end
})

FPESTab:Toggle({
	Title="ESP Alices",
	Value=false,
	Callback=function(v)
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		if not _G.__ESP_ALICES then
			_G.__ESP_ALICES = {highlights = {}, conns = {}}
		end
		local state = _G.__ESP_ALICES

		for _,h in ipairs(state.highlights) do if h then h:Destroy() end end
		for _,c in ipairs(state.conns) do if c then c:Disconnect() end end
		state.highlights = {}
		state.conns = {}

		if not v then return end

		local folder = workspace:FindFirstChild("Alices")
		if not folder then return end

		local function apply(model)
			if not model:IsA("Model") then return end
			if LocalPlayer.Character and model == LocalPlayer.Character then return end
			local h = Instance.new("Highlight")
			h.Adornee = model
			h.FillColor = Color3.fromRGB(255,255,255)
			h.OutlineColor = Color3.fromRGB(255,255,255)
			h.FillTransparency = 0.5
			h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
			h.Parent = model
			table.insert(state.highlights, h)
		end

		for _,m in ipairs(folder:GetChildren()) do apply(m) end
		table.insert(state.conns, folder.ChildAdded:Connect(apply))
		table.insert(state.conns, folder.ChildRemoved:Connect(function(m)
			for i,h in ipairs(state.highlights) do
				if h.Adornee == m then h:Destroy() table.remove(state.highlights,i) break end
			end
		end))
	end
})

FPESTab:Toggle({
	Title="ESP Students",
	Value=false,
	Callback=function(v)
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		if not _G.__ESP_STUDENTS then
			_G.__ESP_STUDENTS = {highlights = {}, conns = {}}
		end
		local state = _G.__ESP_STUDENTS

		for _,h in ipairs(state.highlights) do if h then h:Destroy() end end
		for _,c in ipairs(state.conns) do if c then c:Disconnect() end end
		state.highlights = {}
		state.conns = {}

		if not v then return end

		local folder = workspace:FindFirstChild("Students")
		if not folder then return end

		local function apply(model)
			if not model:IsA("Model") then return end
			if LocalPlayer.Character and model == LocalPlayer.Character then return end
			local h = Instance.new("Highlight")
			h.Adornee = model
			h.FillColor = Color3.fromRGB(0,255,0)
			h.OutlineColor = Color3.fromRGB(0,255,0)
			h.FillTransparency = 0.5
			h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
			h.Parent = model
			table.insert(state.highlights, h)
		end

		for _,m in ipairs(folder:GetChildren()) do apply(m) end
		table.insert(state.conns, folder.ChildAdded:Connect(apply))
		table.insert(state.conns, folder.ChildRemoved:Connect(function(m)
			for i,h in ipairs(state.highlights) do
				if h.Adornee == m then h:Destroy() table.remove(state.highlights,i) break end
			end
		end))
	end
})

FPESTab:Toggle({
	Title="Proximity Alert",
	Value=false,
	Callback=function(v)
		if not CallbackState then CallbackState = {} end
		local state = CallbackState
		if state.conn then state.conn:Disconnect() state.conn = nil end
		if not v then return end

		local Players = game:GetService("Players")
		local RunService = game:GetService("RunService")
		local lp = Players.LocalPlayer
		local last = 0

		state.conn = RunService.Heartbeat:Connect(function()
			local char = lp.Character
			local hrp = char and char:FindFirstChild("HumanoidRootPart")
			if not hrp then return end

			local folder = workspace:FindFirstChild("Teachers")
			if not folder then return end

			if char.Parent == folder then return end

			for _,m in ipairs(folder:GetChildren()) do
				if m:IsA("Model") then
					local root = m:FindFirstChild("HumanoidRootPart")
					if root and (root.Position - hrp.Position).Magnitude <= 15 then
						if os.clock() - last >= 3 then
							last = os.clock()
							WindUI:Notify({
								Title="Proximity Alert",
								Content = m.Name .. " is too close!",
								Duration = 3,
								Icon = "skull",
							})
						end
						break
					end
				end
			end
		end)
	end
})

OthersTab:Button({
	Title="Infinite Yield",
	Callback=function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
	end
})

OthersTab:Button({
	Title="Dex Explorer",
	Callback=function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/infyiff/backup/main/dex.lua"))()
    end
})


OthersTab:Button({
	Title="FE Gazer Animation Editor",
	Callback=function()
		loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Gazer-FE-Animation-Editor-14508"))()
    end
})

OthersTab:Button({
	Title="Web Browser",
	Callback=function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/HS1HYDRAX7/Repository-1/refs/heads/main/T.E.S.T"))()
    end
})


OthersTab:Toggle({
Title="Better Camera",
Value=false,
Callback=function(v)
	if v then
		if getgenv().HeadCamEnabled then return end
		getgenv().HeadCamEnabled = true

		local Players = game:GetService("Players")
		local RunService = game:GetService("RunService")

		local player = Players.LocalPlayer
		local camera = workspace.CurrentCamera

		local character = player.Character or player.CharacterAdded:Wait()
		local humanoid = character:WaitForChild("Humanoid")
		local head = character:WaitForChild("Head")
		local hrp = character:WaitForChild("HumanoidRootPart")

		local shakePower = 0
		local targetFOV = 70
		local fovSpeed = 10

		local baseOffsetY = -1.5
		local baseOffsetZ = -1
		local bobAmount = 0.2
		local bobSpeed = 2

		local headAttachments = {"HatAttachment","HairAttachment","FaceFrontAttachment","FaceCenterAttachment"}

		player.CameraMode = Enum.CameraMode.Classic

		getgenv().HeadCamConns = {}

		getgenv().HeadCamConns.render1 = RunService.RenderStepped:Connect(function()
			if not getgenv().HeadCamEnabled then return end
			local isFirstPerson = (head.Position - camera.CFrame.Position).Magnitude < 2
			for _, part in ipairs(character:GetDescendants()) do
				if part:IsA("BasePart") then
					if part.Name == "Head" then
						part.LocalTransparencyModifier = isFirstPerson and 1 or 0
					elseif part.Name == "Handle" then
						local attachment = part:FindFirstChildOfClass("Attachment")
						if attachment and table.find(headAttachments, attachment.Name) then
							part.LocalTransparencyModifier = isFirstPerson and 1 or 0
						else
							part.LocalTransparencyModifier = 0
						end
					elseif part.Name ~= "HumanoidRootPart" then
						part.LocalTransparencyModifier = 0
					end
				end
			end
		end)

		getgenv().HeadCamConns.health = humanoid.HealthChanged:Connect(function(h)
			if h < humanoid.MaxHealth then
				shakePower += 0.6
			end
		end)

		getgenv().HeadCamConns.state = humanoid.StateChanged:Connect(function(_, state)
			if state == Enum.HumanoidStateType.Landed then
				shakePower += 0.8
			end
		end)

		getgenv().HeadCamConns.explosion = workspace.ChildAdded:Connect(function(child)
			if child:IsA("Explosion") and (child.Position - camera.CFrame.Position).Magnitude < 40 then
				shakePower += 1.2
			end
		end)

		getgenv().HeadCamConns.render2 = RunService.RenderStepped:Connect(function(dt)
			if not getgenv().HeadCamEnabled then return end
			local t = tick()
			local bob = Vector3.new(
				math.sin(t * bobSpeed) * bobAmount,
				math.abs(math.cos(t * bobSpeed)) * bobAmount * 0.6,
				0
			)
			local shake = Vector3.new(
				math.random(-100,100)/100 * shakePower,
				math.random(-100,100)/100 * shakePower,
				math.random(-100,100)/100 * shakePower
			)
			shakePower = math.max(shakePower - 5 * dt, 0)
			local headRelativePos = hrp.CFrame:ToObjectSpace(head.CFrame).Position
			humanoid.CameraOffset = headRelativePos + Vector3.new(0, baseOffsetY, baseOffsetZ) + bob + shake
			camera.FieldOfView += (targetFOV - camera.FieldOfView) * fovSpeed * dt
		end)
	else
		getgenv().HeadCamEnabled = false
		if getgenv().HeadCamConns then
			for _, c in pairs(getgenv().HeadCamConns) do
				pcall(function() c:Disconnect() end)
			end
			getgenv().HeadCamConns = nil
		end
		if game:GetService("Players").LocalPlayer.Character then
			local hum = game:GetService("Players").LocalPlayer.Character:FindFirstChild("Humanoid")
			if hum then
				hum.CameraOffset = Vector3.zero
			end
		end
		workspace.CurrentCamera.FieldOfView = 70
	end
end
})

OthersTab:Toggle({
	Title = "Shiftlock",
	Value = false,
	Callback = function(v)
		local Players = game:GetService("Players")
		local RunService = game:GetService("RunService")
		local UserInputService = game:GetService("UserInputService")

		local Player = Players.LocalPlayer
		local Camera = workspace.CurrentCamera

		if v then
			if getgenv().MobileShiftlockLoaded then return end
			getgenv().MobileShiftlockLoaded = true

			getgenv().ShiftlockEnabled = false

			local ScreenGui = Instance.new("ScreenGui")
			ScreenGui.Name = "MobileShiftlockGUI"
			ScreenGui.ResetOnSpawn = false
			ScreenGui.Parent = Player:WaitForChild("PlayerGui")

			local ToggleButton = Instance.new("ImageButton")
			ToggleButton.Name = "ShiftlockButton"
			ToggleButton.Parent = ScreenGui
			ToggleButton.BackgroundTransparency = 1
			ToggleButton.Size = UDim2.new(0, 60, 0, 60)
			ToggleButton.Position = UDim2.new(0.85, -30, 0.5, -30)
			ToggleButton.Image = "rbxassetid://80450981243325"

			local dragging = false
			local dragInput
			local dragStart
			local startPos

			local function update(input)
				local delta = input.Position - dragStart
				ToggleButton.Position = UDim2.new(
					startPos.X.Scale,
					startPos.X.Offset + delta.X,
					startPos.Y.Scale,
					startPos.Y.Offset + delta.Y
				)
			end

			ToggleButton.InputBegan:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					dragging = true
					dragStart = input.Position
					startPos = ToggleButton.Position
					input.Changed:Connect(function()
						if input.UserInputState == Enum.UserInputState.End then
							dragging = false
						end
					end)
				end
			end)

			ToggleButton.InputChanged:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
					dragInput = input
				end
			end)

			getgenv().ShiftlockDragConn = UserInputService.InputChanged:Connect(function(input)
				if input == dragInput and dragging then
					update(input)
				end
			end)

			local CameraOffset = Vector3.new(1.7, 0.5, 0)

			ToggleButton.Activated:Connect(function()
				getgenv().ShiftlockEnabled = not getgenv().ShiftlockEnabled
				if getgenv().ShiftlockEnabled then
					ToggleButton.Image = "rbxassetid://101910992099753"
					if Player.Character and Player.Character:FindFirstChild("Humanoid") then
						Player.Character.Humanoid.AutoRotate = false
					end
				else
					ToggleButton.Image = "rbxassetid://80450981243325"
					if Player.Character and Player.Character:FindFirstChild("Humanoid") then
						Player.Character.Humanoid.AutoRotate = true
						Player.Character.Humanoid.CameraOffset = Vector3.zero
					end
				end
			end)

			getgenv().ShiftlockRender = RunService.RenderStepped:Connect(function()
				if not getgenv().ShiftlockEnabled then return end
				local char = Player.Character
				if char and char:FindFirstChild("HumanoidRootPart") and char:FindFirstChild("Humanoid") then
					char.Humanoid.CameraOffset = CameraOffset
					local root = char.HumanoidRootPart
					local look = Camera.CFrame.LookVector
					root.CFrame = CFrame.new(
						root.Position,
						root.Position + Vector3.new(look.X, 0, look.Z)
					)
				end
			end)
		else
			getgenv().MobileShiftlockLoaded = false
			getgenv().ShiftlockEnabled = false

			if Player.Character and Player.Character:FindFirstChild("Humanoid") then
				Player.Character.Humanoid.AutoRotate = true
				Player.Character.Humanoid.CameraOffset = Vector3.zero
			end

			if getgenv().ShiftlockRender then
				pcall(function() getgenv().ShiftlockRender:Disconnect() end)
				getgenv().ShiftlockRender = nil
			end

			if getgenv().ShiftlockDragConn then
				pcall(function() getgenv().ShiftlockDragConn:Disconnect() end)
				getgenv().ShiftlockDragConn = nil
			end

			local gui = Player.PlayerGui:FindFirstChild("MobileShiftlockGUI")
			if gui then gui:Destroy() end
		end
	end
})

OthersTab:Input({
Title = "TTPI",
Desc = "Teleport To Game Using The Place Id",
Value = "",
InputIcon = "link",
Type = "Input",
Placeholder = "PLACE ID",
Callback = function(input)
local id = tonumber(input) or tonumber(string.match(input, "%d+"))
getgenv().TargetPlaceId = id
end
})

OthersTab:Button({
Title = "Teleport",
Callback = function()
if getgenv().TargetPlaceId then
WindUI:Notify({
Title = "TTPI NOTIFICATION",
Content = "TELEPORTING...",
Duration = 5,
Icon = "target",
})
task.wait(5)
game:GetService("TeleportService"):Teleport(
getgenv().TargetPlaceId,
game:GetService("Players").LocalPlayer
)
end
end
})

OthersTab:Input({
Title = "Boombox",
Desc = "Music ID",
Value = "",
InputIcon = "music",
Type = "Input",
Placeholder = "MUSIC ID",
Callback = function(input)
getgenv().MusicId = tonumber(input)
end
})

local Paragraph = OthersTab:Paragraph({
Title = "Now Playing",
Desc = "00:00/00:00",
Color = "Red",
Image = "",
ImageSize = 30,
Thumbnail = "",
ThumbnailSize = 80,
Locked = false,
})

OthersTab:Toggle({
Title="Reverb",
Value=false,
Callback=function(v)
local sound=getgenv().Sound
if not sound then return end
if v then
if not getgenv().Reverb then
local reverb=Instance.new("ReverbSoundEffect")
reverb.DecayTime=2
reverb.Density=0.8
reverb.Diffusion=0.9
reverb.WetLevel=0.4
reverb.DryLevel=1
reverb.Parent=sound
getgenv().Reverb=reverb
end
else
if getgenv().Reverb then
getgenv().Reverb:Destroy()
getgenv().Reverb=nil
end
end
end
})

OthersTab:Button({
Title = "Play",
Callback = function()
if not getgenv().Sound then
local sound = Instance.new("Sound")
sound.Name = "EmbeddedBoombox"
sound.Parent = game:GetService("SoundService")
getgenv().Sound = sound
end
if getgenv().MusicId then
local sound = getgenv().Sound
sound.SoundId = "rbxassetid://" .. getgenv().MusicId
sound:Play()
task.spawn(function()
while sound and sound.IsPlaying do
local current = math.floor(sound.TimePosition)
local total = math.floor(sound.TimeLength)
local function fmt(t)
return string.format("%02d:%02d", math.floor(t / 60), t % 60)
end
if Paragraph and Paragraph.SetDesc then
Paragraph:SetDesc(fmt(current) .. "/" .. fmt(total))
end
task.wait(1)
end
end)
end
end
})

OthersTab:Button({
Title = "Pause",
Callback = function()
if getgenv().Sound then
getgenv().Sound:Pause()
end
end
})

local clockParagraph = InfoTab:Paragraph({ Title="Clock", Desc="--:--:--" })
task.spawn(function()
	while task.wait(1) do
		clockParagraph:SetDesc(os.date("%H:%M:%S"))
	end
end)

InfoTab:Paragraph({
    Title = "Creators",
    Desc = "Fusion (Owner)",
    Thumbnail = "rbxassetid://101052171885580",
    ThumbnailSize = 140,  
    Locked = true,         
})

Window:Init()
