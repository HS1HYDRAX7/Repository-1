local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer
local DEFAULT_GRAVITY = workspace.Gravity

Window = WindUI:CreateWindow({
	Title = "Elysium X",
	Author = "By Fusion",
	Folder = "Elysium",
	Transparent = true,
	Theme = "Crimson",
	Resizable = true,
	HideSearchBar = false,
	ScrollBarEnabled = true,

	KeySystem = {
		Key = { "260126" },
		Note = "Currently in Beta",
		SaveKey = false,
	},
})

Window:Tag({
	Title = "Discontinued?",
	Color = Color3.fromRGB(153,0,0),
	Radius = 50,
})

local PlayerTab = Window:Tab({ Title = "Player", Icon = "user-star" })
local DoorsTab = Window:Tab({ Title = "Doors", Icon = "door-open" })
local FPESTab = Window:Tab({ Title = "FPE Survival", Icon = "book" })
local OthersTab = Window:Tab({ Title = "Others", Icon = "link" })
local InfoTab = Window:Tab({ Title = "Information", Icon = "info" })

local playerEnabled=false
local noclipEnabled=false
local infJump=false
local cframeSpeed=1
local gravity=196.2
local noclipConn
local originalCollisions={}

local function applyNoclip(character)
	if noclipConn then noclipConn:Disconnect() end
	if not character then return end
	originalCollisions={}
	for _,p in ipairs(character:GetDescendants()) do
		if p:IsA("BasePart") then
			originalCollisions[p]=p.CanCollide
			p.CanCollide=false
		end
	end
	noclipConn=RunService.Stepped:Connect(function()
		if not noclipEnabled or not character.Parent then return end
		for _,p in ipairs(character:GetDescendants()) do
			if p:IsA("BasePart") then p.CanCollide=false end
		end
	end)
end

local function removeNoclip()
	if noclipConn then noclipConn:Disconnect() noclipConn=nil end
	for p,v in pairs(originalCollisions) do
		if p and p.Parent then p.CanCollide=v end
	end
	originalCollisions={}
end

LocalPlayer.CharacterAdded:Connect(function(c)
	task.wait(0.25)
	if noclipEnabled then
		applyNoclip(c)
	end
end)

PlayerTab:Toggle({ Title="Enable", Value=false, Callback=function(v)
	playerEnabled=v
	if not v then workspace.Gravity=DEFAULT_GRAVITY end
end })

PlayerTab:Slider({
	Title="CFrame Speed",
	Step=1,
	Value={Min=1,Max=100,Default=1},
	Callback=function(v) cframeSpeed=v end
})

PlayerTab:Slider({
	Title="Gravity",
	Step=1,
	Value={Min=1,Max=196,Default=196},
	Callback=function(v) gravity=v end
})

PlayerTab:Toggle({
	Title="Noclip",
	Value=false,
	Callback=function(v)
		noclipEnabled=v
		if v then applyNoclip(LocalPlayer.Character) else removeNoclip() end
	end
})

PlayerTab:Toggle({
	Title="Infinite Jump",
	Value=false,
	Callback=function(v) infJump=v end
})

UserInputService.JumpRequest:Connect(function()
	if infJump and LocalPlayer.Character then
		local hum=LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		if hum then hum:ChangeState(Enum.HumanoidStateType.Jumping) end
	end
end)

RunService.Heartbeat:Connect(function()
	if not playerEnabled then return end
	local char=LocalPlayer.Character
	local hrp=char and char:FindFirstChild("HumanoidRootPart")
	local hum=char and char:FindFirstChildOfClass("Humanoid")
	if not hrp or not hum then return end
	workspace.Gravity=gravity
	local dir=hum.MoveDirection
	if dir.Magnitude>0 then
		hrp.CFrame=hrp.CFrame+(dir*(cframeSpeed*0.08))
	end
end)

DoorsTab:Toggle({
	Title="ESP Doors",
	Value=false,
	Callback=function(v)
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		if not _G.__ESP_DOORS then
			_G.__ESP_DOORS = {highlights = {}, conns = {}}
		end
		local state = _G.__ESP_DOORS

		for _,h in ipairs(state.highlights) do if h then h:Destroy() end end
		for _,c in ipairs(state.conns) do if c then c:Disconnect() end end
		state.highlights = {}
		state.conns = {}

		if not v then return end

		local function apply(obj)
			if not obj:IsA("Model") and not obj:IsA("BasePart") then return end
			if LocalPlayer.Character and obj == LocalPlayer.Character then return end
			local h = Instance.new("Highlight")
			h.Adornee = obj
			h.FillColor = Color3.fromRGB(0,170,255)
			h.OutlineColor = Color3.fromRGB(0,170,255)
			h.FillTransparency = 0.5
			h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
			h.Parent = obj
			table.insert(state.highlights, h)
		end

		for _,d in ipairs(workspace:GetDescendants()) do
			if d.Name == "Door" then
				apply(d)
			end
		end

		table.insert(state.conns, workspace.DescendantAdded:Connect(function(d)
			if d.Name == "Door" then
				apply(d)
			end
		end))

		table.insert(state.conns, workspace.DescendantRemoving:Connect(function(d)
			for i,h in ipairs(state.highlights) do
				if h.Adornee == d then
					h:Destroy()
					table.remove(state.highlights,i)
					break
				end
			end
		end))
	end
})

DoorsTab:Toggle({
	Title="ESP Keys",
	Value=false,
	Callback=function(v)
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		if not _G.__ESP_KEYS then
			_G.__ESP_KEYS = {highlights = {}, conns = {}}
		end
		local state = _G.__ESP_KEYS

		for _,h in ipairs(state.highlights) do if h then h:Destroy() end end
		for _,c in ipairs(state.conns) do if c then c:Disconnect() end end
		state.highlights = {}
		state.conns = {}

		if not v then return end

		local function apply(obj)
			if not obj:IsA("Model") and not obj:IsA("BasePart") then return end
			if LocalPlayer.Character and obj == LocalPlayer.Character then return end
			local h = Instance.new("Highlight")
			h.Adornee = obj
			h.FillColor = Color3.fromRGB(255,215,0)
			h.OutlineColor = Color3.fromRGB(255,215,0)
			h.FillTransparency = 0.3
			h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
			h.Parent = obj
			table.insert(state.highlights, h)
		end

		for _,k in ipairs(workspace:GetDescendants()) do
			if k.Name == "KeyObtain" then
				apply(k)
			end
		end

		table.insert(state.conns, workspace.DescendantAdded:Connect(function(k)
			if k.Name == "KeyObtain" then
				apply(k)
			end
		end))

		table.insert(state.conns, workspace.DescendantRemoving:Connect(function(k)
			for i,h in ipairs(state.highlights) do
				if h.Adornee == k then
					h:Destroy()
					table.remove(state.highlights,i)
					break
				end
			end
		end))
	end
})

FPESTab:Toggle({
	Title = "Infinite Stamina",
	Value = false,
	Callback = function(v)
		infStamina = v
		if staminaConn then
			staminaConn:Disconnect()
			staminaConn = nil
		end

		local function applyInfStamina()
			local Character_upvr = Players.LocalPlayer.Character or Players.LocalPlayer.CharacterAdded:Wait()
			local max = Character_upvr:GetAttribute("MaxStamina") or 100
			Character_upvr:SetAttribute("Stamina", max)

			staminaConn = RunService.Heartbeat:Connect(function()
				if not infStamina then return end
				if Character_upvr and Character_upvr.Parent then
					Character_upvr:SetAttribute("Stamina", max)
				end
			end)
		end

		if v then
			applyInfStamina()
			Players.LocalPlayer.CharacterAdded:Connect(function()
				if infStamina then
					applyInfStamina()
				end
			end)
		else
			if staminaConn then
				staminaConn:Disconnect()
				staminaConn = nil
			end
		end
	end
})

FPESTab:Toggle({
	Title="ESP Teachers",
	Value=false,
	Callback=function(v)
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		if not _G.__ESP_TEACHERS then
			_G.__ESP_TEACHERS = {highlights = {}, conns = {}}
		end
		local state = _G.__ESP_TEACHERS

		for _,h in ipairs(state.highlights) do if h then h:Destroy() end end
		for _,c in ipairs(state.conns) do if c then c:Disconnect() end end
		state.highlights = {}
		state.conns = {}

		if not v then return end

		local folder = workspace:FindFirstChild("Teachers")
		if not folder then return end

		local function apply(model)
			if not model:IsA("Model") then return end
			if LocalPlayer.Character and model == LocalPlayer.Character then return end
			local h = Instance.new("Highlight")
			h.Adornee = model
			h.FillColor = Color3.fromRGB(255,0,0)
			h.OutlineColor = Color3.fromRGB(255,0,0)
			h.FillTransparency = 0.5
			h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
			h.Parent = model
			table.insert(state.highlights, h)
		end

		for _,m in ipairs(folder:GetChildren()) do apply(m) end
		table.insert(state.conns, folder.ChildAdded:Connect(apply))
		table.insert(state.conns, folder.ChildRemoved:Connect(function(m)
			for i,h in ipairs(state.highlights) do
				if h.Adornee == m then h:Destroy() table.remove(state.highlights,i) break end
			end
		end))
	end
})

FPESTab:Toggle({
	Title="ESP Alices",
	Value=false,
	Callback=function(v)
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		if not _G.__ESP_ALICES then
			_G.__ESP_ALICES = {highlights = {}, conns = {}}
		end
		local state = _G.__ESP_ALICES

		for _,h in ipairs(state.highlights) do if h then h:Destroy() end end
		for _,c in ipairs(state.conns) do if c then c:Disconnect() end end
		state.highlights = {}
		state.conns = {}

		if not v then return end

		local folder = workspace:FindFirstChild("Alices")
		if not folder then return end

		local function apply(model)
			if not model:IsA("Model") then return end
			if LocalPlayer.Character and model == LocalPlayer.Character then return end
			local h = Instance.new("Highlight")
			h.Adornee = model
			h.FillColor = Color3.fromRGB(255,255,255)
			h.OutlineColor = Color3.fromRGB(255,255,255)
			h.FillTransparency = 0.5
			h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
			h.Parent = model
			table.insert(state.highlights, h)
		end

		for _,m in ipairs(folder:GetChildren()) do apply(m) end
		table.insert(state.conns, folder.ChildAdded:Connect(apply))
		table.insert(state.conns, folder.ChildRemoved:Connect(function(m)
			for i,h in ipairs(state.highlights) do
				if h.Adornee == m then h:Destroy() table.remove(state.highlights,i) break end
			end
		end))
	end
})

FPESTab:Toggle({
	Title="ESP Students",
	Value=false,
	Callback=function(v)
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		if not _G.__ESP_STUDENTS then
			_G.__ESP_STUDENTS = {highlights = {}, conns = {}}
		end
		local state = _G.__ESP_STUDENTS

		for _,h in ipairs(state.highlights) do if h then h:Destroy() end end
		for _,c in ipairs(state.conns) do if c then c:Disconnect() end end
		state.highlights = {}
		state.conns = {}

		if not v then return end

		local folder = workspace:FindFirstChild("Students")
		if not folder then return end

		local function apply(model)
			if not model:IsA("Model") then return end
			if LocalPlayer.Character and model == LocalPlayer.Character then return end
			local h = Instance.new("Highlight")
			h.Adornee = model
			h.FillColor = Color3.fromRGB(0,255,0)
			h.OutlineColor = Color3.fromRGB(0,255,0)
			h.FillTransparency = 0.5
			h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
			h.Parent = model
			table.insert(state.highlights, h)
		end

		for _,m in ipairs(folder:GetChildren()) do apply(m) end
		table.insert(state.conns, folder.ChildAdded:Connect(apply))
		table.insert(state.conns, folder.ChildRemoved:Connect(function(m)
			for i,h in ipairs(state.highlights) do
				if h.Adornee == m then h:Destroy() table.remove(state.highlights,i) break end
			end
		end))
	end
})

OthersTab:Button({
	Title="Infinite Yield",
	Callback=function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
	end
})

OthersTab:Button({
	Title="Dex Explorer",
	Callback=function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/infyiff/backup/main/dex.lua"))()
    end
})

OthersTab:Button({
	Title="Browser V2",
	Callback=function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/HS1HYDRAX7/Repository-1/refs/heads/main/Browser%20V2"))()
    end
})

OthersTab:Toggle({
Title="Better Camera",
Value=false,
Callback=function(v)
	if v then
		if getgenv().HeadCamEnabled then return end
		getgenv().HeadCamEnabled = true

		local Players = game:GetService("Players")
		local RunService = game:GetService("RunService")

		local player = Players.LocalPlayer
		local camera = workspace.CurrentCamera

		local character = player.Character or player.CharacterAdded:Wait()
		local humanoid = character:WaitForChild("Humanoid")
		local head = character:WaitForChild("Head")
		local hrp = character:WaitForChild("HumanoidRootPart")

		local shakePower = 0
		local targetFOV = 70
		local fovSpeed = 10

		local baseOffsetY = -1.5
		local baseOffsetZ = -1
		local bobAmount = 0.2
		local bobSpeed = 2

		local headAttachments = {"HatAttachment","HairAttachment","FaceFrontAttachment","FaceCenterAttachment"}

		player.CameraMode = Enum.CameraMode.Classic

		getgenv().HeadCamConns = {}

		getgenv().HeadCamConns.render1 = RunService.RenderStepped:Connect(function()
			if not getgenv().HeadCamEnabled then return end
			local isFirstPerson = (head.Position - camera.CFrame.Position).Magnitude < 2
			for _, part in ipairs(character:GetDescendants()) do
				if part:IsA("BasePart") then
					if part.Name == "Head" then
						part.LocalTransparencyModifier = isFirstPerson and 1 or 0
					elseif part.Name == "Handle" then
						local attachment = part:FindFirstChildOfClass("Attachment")
						if attachment and table.find(headAttachments, attachment.Name) then
							part.LocalTransparencyModifier = isFirstPerson and 1 or 0
						else
							part.LocalTransparencyModifier = 0
						end
					elseif part.Name ~= "HumanoidRootPart" then
						part.LocalTransparencyModifier = 0
					end
				end
			end
		end)

		getgenv().HeadCamConns.health = humanoid.HealthChanged:Connect(function(h)
			if h < humanoid.MaxHealth then
				shakePower += 0.6
			end
		end)

		getgenv().HeadCamConns.state = humanoid.StateChanged:Connect(function(_, state)
			if state == Enum.HumanoidStateType.Landed then
				shakePower += 0.8
			end
		end)

		getgenv().HeadCamConns.explosion = workspace.ChildAdded:Connect(function(child)
			if child:IsA("Explosion") and (child.Position - camera.CFrame.Position).Magnitude < 40 then
				shakePower += 1.2
			end
		end)

		getgenv().HeadCamConns.render2 = RunService.RenderStepped:Connect(function(dt)
			if not getgenv().HeadCamEnabled then return end
			local t = tick()
			local bob = Vector3.new(
				math.sin(t * bobSpeed) * bobAmount,
				math.abs(math.cos(t * bobSpeed)) * bobAmount * 0.6,
				0
			)
			local shake = Vector3.new(
				math.random(-100,100)/100 * shakePower,
				math.random(-100,100)/100 * shakePower,
				math.random(-100,100)/100 * shakePower
			)
			shakePower = math.max(shakePower - 5 * dt, 0)
			local headRelativePos = hrp.CFrame:ToObjectSpace(head.CFrame).Position
			humanoid.CameraOffset = headRelativePos + Vector3.new(0, baseOffsetY, baseOffsetZ) + bob + shake
			camera.FieldOfView += (targetFOV - camera.FieldOfView) * fovSpeed * dt
		end)
	else
		getgenv().HeadCamEnabled = false
		if getgenv().HeadCamConns then
			for _, c in pairs(getgenv().HeadCamConns) do
				pcall(function() c:Disconnect() end)
			end
			getgenv().HeadCamConns = nil
		end
		if game:GetService("Players").LocalPlayer.Character then
			local hum = game:GetService("Players").LocalPlayer.Character:FindFirstChild("Humanoid")
			if hum then
				hum.CameraOffset = Vector3.zero
			end
		end
		workspace.CurrentCamera.FieldOfView = 70
	end
end
})

OthersTab:Input({
Title = "Boombox",
Value = "",
InputIcon = "music",
Type = "Input",
Placeholder = "MUSIC ID",
Callback = function(input)
getgenv().MusicId = tonumber(input)
end
})

local Paragraph = OthersTab:Paragraph({
Title = "Now Playing",
Desc = "00:00/00:00",
Color = "Red",
Locked = false,
})

OthersTab:Toggle({
Title="Reverb",
Value=false,
Callback=function(v)
local sound=getgenv().Sound
if not sound then return end
if v then
if not getgenv().Reverb then
local reverb=Instance.new("ReverbSoundEffect")
reverb.DecayTime=2
reverb.Density=0.8
reverb.Diffusion=0.9
reverb.WetLevel=0.4
reverb.DryLevel=1
reverb.Parent=sound
getgenv().Reverb=reverb
end
else
if getgenv().Reverb then
getgenv().Reverb:Destroy()
getgenv().Reverb=nil
end
end
end
})

OthersTab:Button({
Title = "Play",
Callback = function()
if not getgenv().Sound then
local sound = Instance.new("Sound")
sound.Name = "EmbeddedBoombox"
sound.Parent = game:GetService("SoundService")
getgenv().Sound = sound
end
if getgenv().MusicId then
local sound = getgenv().Sound
sound.SoundId = "rbxassetid://" .. getgenv().MusicId
sound:Play()
task.spawn(function()
while sound and sound.IsPlaying do
local current = math.floor(sound.TimePosition)
local total = math.floor(sound.TimeLength)
local function fmt(t)
return string.format("%02d:%02d", math.floor(t / 60), t % 60)
end
if Paragraph and Paragraph.SetDesc then
Paragraph:SetDesc(fmt(current) .. "/" .. fmt(total))
end
task.wait(1)
end
end)
end
end
})

OthersTab:Button({
Title = "Pause",
Callback = function()
if getgenv().Sound then
getgenv().Sound:Pause()
end
end
})

local clockParagraph = InfoTab:Paragraph({ Title="Clock", Desc="--:--:--" })
task.spawn(function()
	while task.wait(1) do
		clockParagraph:SetDesc(os.date("%H:%M:%S"))
	end
end)

InfoTab:Paragraph({
    Title = "Creators",
    Desc = "Fusion (Owner)",
    Thumbnail = "rbxassetid://101052171885580",
    ThumbnailSize = 140,  
    Locked = true,         
})

Window:Init()
