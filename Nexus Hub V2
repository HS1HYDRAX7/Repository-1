local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

local Window = WindUI:CreateWindow({
	Title = "Nexus Hub",
	Icon = "sparkles",
	Author = "by Hydra",
	Folder = "NexusHub",
	Size = UDim2.fromOffset(600,460),
	Transparent = true,
	Theme = "Dark",
	Resizable = true,
	HideSearchBar = false,
	ScrollBarEnabled = true
})

Window:Tag({
	Title = "v2.2.5",
	Icon = "github",
	Color = Color3.fromRGB(10, 25, 60),
	Radius = 0
})

WindUI:Popup({
	Title = "Welcome to Nexus Hub",
	Icon = "info",
	Buttons = {
		{
			Title = "Continue",
			Icon = "arrow-right",
			Variant = "Primary",
			Callback = function() end
		}
	}
})

local PlayerTab   = Window:Tab({ Title = "Player", Icon = "user" })
local ForsakenTab = Window:Tab({ Title = "Forsaken", Icon = "skull" })
local OthersTab   = Window:Tab({ Title = "Others", Icon = "layers" })
local InfoTab     = Window:Tab({ Title = "Information", Icon = "info" })

local DEFAULT_GRAVITY = workspace.Gravity
local playerEnabled=false
local noclip=false
local infJump=false
local cframeSpeed=1
local gravity=196.2
local noclipConn

local function setNoclip(char,state)
	if noclipConn then noclipConn:Disconnect() end
	if not state then return end
	noclipConn = RunService.Stepped:Connect(function()
		for _,v in ipairs(char:GetDescendants()) do
			if v:IsA("BasePart") then
				v.CanCollide = false
			end
		end
	end)
end

LocalPlayer.CharacterAdded:Connect(function(c)
	if noclip then
		task.wait(0.2)
		setNoclip(c,true)
	end
end)

PlayerTab:Toggle({
	Title="Enable",
	Value=false,
	Callback=function(v)
		playerEnabled=v
		if not v then workspace.Gravity=DEFAULT_GRAVITY end
	end
})

PlayerTab:Slider({
	Title="CFrame Speed",
	Step=1,
	Value={Min=1,Max=80,Default=1},
	Callback=function(v) cframeSpeed=v end
})

PlayerTab:Slider({
	Title="Gravity",
	Step=1,
	Value={Min=0,Max=300,Default=196},
	Callback=function(v) gravity=v end
})

PlayerTab:Toggle({
	Title="Noclip",
	Value=false,
	Callback=function(v)
		noclip=v
		if v and LocalPlayer.Character then
			setNoclip(LocalPlayer.Character,true)
		end
	end
})

PlayerTab:Toggle({
	Title="Infinite Jump",
	Value=false,
	Callback=function(v) infJump=v end
})

UserInputService.JumpRequest:Connect(function()
	if infJump and LocalPlayer.Character then
		local h=LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		if h then h:ChangeState(Enum.HumanoidStateType.Jumping) end
	end
end)

RunService.Heartbeat:Connect(function()
	if not playerEnabled then return end
	local c=LocalPlayer.Character
	local hrp=c and c:FindFirstChild("HumanoidRootPart")
	local h=c and c:FindFirstChildOfClass("Humanoid")
	if not hrp or not h then return end
	workspace.Gravity=gravity
	local d=h.MoveDirection
	if d.Magnitude>0 then
		hrp.CFrame=hrp.CFrame+(d*(cframeSpeed*0.08))
	end
end)

local espKillers=false
local espSurvivors=false
local espGens=false

local function clearESP()
	for _,v in ipairs(workspace:GetDescendants()) do
		if v:IsA("Highlight") and v.Name=="NexusESP" then
			v:Destroy()
		end
	end
end

local function esp(target,color)
	if target:FindFirstChild("NexusESP") then return end
	local h=Instance.new("Highlight")
	h.Name="NexusESP"
	h.Adornee=target
	h.FillColor=color
	h.OutlineColor=color
	h.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop
	h.FillTransparency=0.45
	h.Parent=target
end

task.spawn(function()
	while task.wait(0.5) do
		if espKillers or espSurvivors then
			for _,p in ipairs(Players:GetPlayers()) do
				if p~=LocalPlayer and p.Character then
					if espKillers then esp(p.Character,Color3.fromRGB(255,0,0)) end
					if espSurvivors then esp(p.Character,Color3.fromRGB(0,255,0)) end
				end
			end
		end
		if espGens then
			for _,g in ipairs(workspace:GetDescendants()) do
				if g.Name=="Generator" then
					esp(g,Color3.fromRGB(255,255,0))
				end
			end
		end
	end
end)

ForsakenTab:Toggle({
	Title="ESP Killers",
	Value=false,
	Callback=function(v) espKillers=v if not v then clearESP() end end
})

ForsakenTab:Toggle({
	Title="ESP Survivors",
	Value=false,
	Callback=function(v) espSurvivors=v if not v then clearESP() end end
})

ForsakenTab:Toggle({
	Title="ESP Generators",
	Value=false,
	Callback=function(v) espGens=v if not v then clearESP() end end
})

local autoGen=false
local autoGenSpeed=1

ForsakenTab:Toggle({
	Title="Auto Generator",
	Value=false,
	Callback=function(v) autoGen=v end
})

ForsakenTab:Slider({
	Title="Auto Generator Speed",
	Step=1,
	Value={Min=1,Max=10,Default=1},
	Callback=function(v) autoGenSpeed=v end
})

task.spawn(function()
	while task.wait(0.1) do
		if autoGen then
			for _,g in ipairs(workspace:GetDescendants()) do
				if g.Name=="Generator" and g:FindFirstChild("Progress") then
					g.Progress.Value = math.clamp(
						g.Progress.Value + autoGenSpeed,
						0,
						g.Progress.MaxValue
					)
				end
			end
		end
	end
end)

OthersTab:Button({
	Title="Infinite Yield With AI",
	Callback=function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/BokX1/InfiniteYieldWithAI/refs/heads/main/InfiniteYieldWithAI.Lua"))()
	end
})

local Clock = InfoTab:Paragraph({
	Title="Clock",
	Desc="--:--:--"
})

task.spawn(function()
	while task.wait(1) do
		Clock:SetDesc(os.date("%H:%M:%S"))
	end
end)

InfoTab:Paragraph({
	Title="Creators",
	Desc="Hydra (Owner)"
})

Window:Init()
